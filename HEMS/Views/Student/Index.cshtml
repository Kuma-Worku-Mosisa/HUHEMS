@model IEnumerable<HEMS.Models.Exam>

@{
    ViewData["Title"] = "Available Exams";
}

<div class="container mt-4">
    <div class="row mb-4">
        <div class="col">
            <h2 class="fw-bold"><i class="bi bi-pencil-square text-primary"></i> Available Exams</h2>
            <p class="text-muted">Select an exam to start your assessment.</p>
        </div>
    </div>

    <div class="row">
        @if (!Model.Any())
        {
            <div class="col-12 text-center py-5">
                <i class="bi bi-emoji-smile text-muted" style="font-size: 3rem;"></i>
                <p class="mt-3">No exams are currently published. Check back later!</p>
            </div>
        }
        else
        {
            @foreach (var exam in Model)
            {
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="card shadow-sm border-0 h-100">
                        <div class="card-body">
                            <h5 class="card-title fw-bold text-primary">@exam.ExamTitle</h5>
                            <p class="card-text text-muted small">
                                @(string.IsNullOrEmpty(exam.Description) ? "No description provided." : exam.Description)
                            </p>
                            <ul class="list-unstyled mb-4">
                                <li><i class="bi bi-clock me-2"></i><strong>Duration:</strong> @exam.DurationMinutes mins</li>
                                <li><i class="bi bi-calendar3 me-2"></i><strong>Year:</strong> @exam.AcademicYear</li>
                            </ul>
                        </div>
                        <div class="card-footer bg-white border-0 pb-3">
                            <a asp-action="TakeExam" asp-route-examId="@exam.ExamId"
                               class="btn btn-primary w-100 shadow-sm rounded-pill"
                               onclick="return confirm('Do you want to start this exam? The timer will begin immediately.');">
                                Start Exam
                            </a>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
</div>