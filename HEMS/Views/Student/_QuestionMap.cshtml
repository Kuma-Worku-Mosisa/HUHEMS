@model HEMS.Models.Question
@{
    int totalQuestions = ViewBag.Total;
    int currentIdx = ViewBag.Index;
}

<div class="card shadow-sm">
    <div class="card-header bg-dark text-white text-center">
        <h6 class="mb-0">Question Map</h6>
    </div>
    <div class="card-body">
        <p class="small text-muted mb-2">Click a number to jump to that question:</p>
        <div class="d-flex flex-wrap gap-2">
            @for (int i = 0; i < totalQuestions; i++)
            {
                <a asp-action="TakeExam"
                   asp-route-examId="@Model.ExamId"
                   asp-route-index="@i"
                   class="btn btn-sm @(i == currentIdx ? "btn-primary active" : "btn-outline-secondary")"
                   style="width: 40px;">
                    @(i + 1)
                </a>
            }
        </div>

        <div class="mt-3 pt-2 border-top">
            <div class="d-flex align-items-center mb-1">
                <div class="bg-primary rounded-circle me-2" style="width:12px; height:12px;"></div>
                <span class="small">Current Question</span>
            </div>
            <div class="d-flex align-items-center">
                <div class="bg-light border rounded-circle me-2" style="width:12px; height:12px;"></div>
                <span class="small">Available</span>
            </div>
        </div>
    </div>
</div>